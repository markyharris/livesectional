
<!DOCTYPE html>
<head>
    <link rel="stylesheet" href='/static/style.css' />
    <link rel="shortcut icon" href="static/tab.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>    <title>{{ title }}</title>
</head>

<body>

<nav class="navbar navbar-inverse navbar-fixed-top">
  <div class="container-fluid">
    <div class="navbar-header">
      <a class="navbar-brand" href="/confedit">{{ title }}</a>
    </div>
    <ul class="nav navbar-nav">
      <li class="dropdown"><a class="dropdown-toggle" data-toggle="dropdown" href="#">Config Editor<span class="caret"></span></a>
        <ul class="dropdown-menu">
          <li><a href="#">Save Config File</a></li>
        </ul>
      <li class="dropdown"><a class="dropdown-toggle" data-toggle="dropdown" href="#">Airport Editor<span class="caret"></span></a>
        <ul class="dropdown-menu">
          <li><a href="#">Save Airport File</a></li>
        </ul>
      <li class="dropdown"><a class="dropdown-toggle" data-toggle="dropdown" href="#">Map Functions <span class="caret"></span></a>
        <ul class="dropdown-menu">
          <li><a href="#">Turn On Map</a></li>
          <li><a href="#">Shut Off Map</a></li>
          <li><a href="#">Reboot RPI</a></li>
          <li><a href="#">Shutdown RPI</a></li>
        </ul>
      </li>
      <li class="dropdown"><a class="dropdown-toggle" data-toggle="dropdown" href="#">Map Utilities <span class="caret"></span></a>
        <ul class="dropdown-menu">
          <li><a href="#">Download Airports File</a></li>
          <li><a href="#">Download Config File</a></li>
          <li><a href="#">Misc</a></li>
        </ul>
      </li>
      <li><a href="#">Help</a></li>
    </ul>
   <p class="navbar-text navbar-right">Running On - {{ ipadd }} : RPI System Time - {{ timestr }}&nbsp</p>
  </div>
</nav>

 
    <div class="header">
<!--    <a href="./confedit"><h1>{{ title }}</h1>
    <h3>Running On - {{ ipadd }}</h3>
    <h3>RPI System Time - {{ timestr }}</h3></a> -->  
	{% if ipaddresses|length > 1 %}
		<form>
		<select name="option_ip" onchange="this.options[this.selectedIndex].value && (window.location = this.options[this.selectedIndex].value);">
		{% for ip in ipaddresses %}
			{% set ipinfo = ip.split(' ') %}
	    		<option value="http://{{ ipinfo[0] }}:5000/confedit" {{"selected" if ipinfo[0] == ipadd else "" }}>{{ ip }}</option>
		{% endfor %}
		</select>
		</form>
	{% endif %}
    </div>
    </br>
    Click category to expand. Edit as necessary then click "Save Settings" at bottom.</p>

{% with messages = get_flashed_messages() %}
  {% if messages %}
    <ul class=flashes>
    {% for message in messages %}
      <li>{{ message }}</li>
    {% endfor %}
    </ul>
  {% endif %}
{% endwith %}

<form action="post" method="POST">
<!--Start of Misc Settings-->
    <button type="button" class="collapsible">Basic Settings</button> 
    <div class="content">
    <table>
    <tr>
        <th width="20%">Setting
        <th width="15%">Value
        <th>Setting Description
    </tr>
    <tr>
        <td><b>Auto Run on Boot</b><br>
        <td>
            <input type="radio" name="autorun" id="autorunyes" value="1" {{'checked="checked"' if settings.autorun=="1" else "" }}/> 
            <label for="autorunyes">Yes</label>
            <input type="radio" name="autorun" id="autorunno" value="0" {{'checked="checked"' if settings.autorun=="0" else "" }}/>
            <label for="autorunno">No</label>
        <td>Set this to Yes to have Live Sectional Map run on boot/reboot. Set to No to boot to command line.
    </tr>

    <tr>
        <td><b>LED Count = </b>
        <td><input type="number" name="LED_COUNT" min="0" max="500" value = {{ settings.LED_COUNT }}>
        <td>Enter the number of LEDs in the string to build the map. (Allowable range = 0 to 500)
    </tr>
    
    <tr>
        <td><b>Use a Map Legend</b><br>
        <td>
            <input type="radio" name="legend" id="legendyes" value="1" {{'checked="checked"' if settings.legend=="1" else "" }}/>
            <label for="legendyes">Yes</label>
            <input type="radio" name="legend" id="legendno" value="0" {{'checked="checked"' if settings.legend=="0" else "" }}/>   
            <label for="legendno">No</label>
            <td>If the map will be using a Legend, then select Yes. Legend can be customized as desired.
    </tr>

    <tr>
        <td><b>Set Wind Speed = </b>
        <td><input type="number" name="max_wind_speed" min="0" max="100" value = {{ settings.max_wind_speed }}>
        <td>Enter the wind speed at which to start blinking airports if speed is at or above. (Allowable range = 0 to 100).
    </tr>

    <tr>
        <td><b>Update FAA Weather = </b>
        <td><input type="number" name="update_interval" min="1" max="60" value = {{ settings.update_interval }}>
        <td>Number of MINUTES between FAA updates - 15 minutes is a good compromise. (Allowable range = 1 to 60)
    </tr>

    <tr>
        <td><b>Age of Metar = </b>
        <td><input type="number" name="metar_age" min="0.5" max="6" step=".5" value = {{ settings.metar_age }}>
        <td>In HOURS, of the Metar data retrieved from the FAA - 2 to 3 hours is good. (Allowable range = .5 to 6)
    </tr>

    <tr>
        <td><b>Use On/Off Timer</b><br>
        <td>
            <input type="radio" name="usetimer" id="usetimeryes" value="1" {{'checked="checked"' if settings.usetimer=="1" else "" }}/>
            <label for="usetimeryes">Yes</label>
            <input type="radio" name="usetimer" id="usetimerno" value="0" {{'checked="checked"' if settings.usetimer=="0" else "" }}/>
            <label for="usetimerno">No</label>
            <td>Timer is available to turn off the map at night if desired. Enter 'Time Off' and 'Time On' values in settings below. 
                Verify RPI's time is set correctly for your timezone. RPI time is listed in the header and can be refreshed.
    </tr>

    <tr>
        <td><b>&nbsp&nbsp&nbsp&nbsp&nbspTime Off</b>
        <td><input type="text" name="offhour" maxlength="2" size="4" value = {{ settings.offhour }}> :
        <input type="text" name="offminutes" maxlength="2" size="4" value = {{ settings.offminutes }}>
        <td>Enter the desired time to turn map off in 24 hour format. i.e. '9 pm' would be entered '21:00'. Be sure to shutoff then restart 
            the map so the new settings will take effect.
    </tr>

    <tr>
        <td><b>&nbsp&nbsp&nbsp&nbsp&nbspTime On</b>
        <td><input type="text" name="onhour" maxlength="2" size="4" value = {{ settings.onhour }}> :
            <input type="text" name="onminutes" maxlength="2" size="4" value = {{ settings.onminutes }}>
        <td>Enter the desired time to turn map on in 24 hour format. i.e. '8:30 am' would be entered '8:30'. Be sure to shutoff then restart
            the map so the new settings will take effect.
    </tr>

    <tr>
        <td><b>Display Used</b><br>
        <td>
            <input type="radio" name="displayused" id="displayusedyes" value="1" {{'checked="checked"' if settings.displayused=="1" else "" }}/> 
            <label for="displayusedyes">Yes</label>
            <input type="radio" name="displayused" id="displayusedno" value="0" {{'checked="checked"' if settings.displayused=="0" else "" }}/>   
            <label for="displayusedno">No</label>
        <td>If an LCD or OLED display will be used, select Yes.
    </tr>

    <tr>
        <td><b>OLED Displays Used</b><br>
        <td>
            <input type="radio" name="oledused" id="oledusedyes" value="1" {{'checked="checked"' if settings.oledused=="1" else "" }}/>
            <label for="oledusedyes">Yes</label>
            <input type="radio" name="oledused" id="oledusedno" value="0" {{'checked="checked"' if settings.oledused=="0" else "" }}/>   
            <label for="oledusedno">No</label>
        <td>If an OLED display will be used, select Yes. This is used to shutoff the OLED display on reboot/Power off.
    </tr>

    <tr>
        <td><b>LCD Display Used</b><br>
        <td>
            <input type="radio" name="lcddisplay" id="lcddisplayyes" value="1" {{'checked="checked"' if settings.lcddisplay=="1" else "" }}/>
            <label for="lcddisplayyes">Yes</label>
            <input type="radio" name="lcddisplay" id="lcddisplayno" value="0" {{'checked="checked"' if settings.lcddisplay=="0" else "" }}/>  
            <label for="lcddisplayno">No</label>
        <td>If an LCD display will be used, select Yes. This is used to shutoff the OLED display on reboot/Power off.
    </tr>

    <tr>
        <td><b>Number of OLED Displays =</b>
        <td><input type="number" name="numofdisplays" min="0" max="8" value = {{ settings.numofdisplays }}>
        <td>Enter the number of OLEDs to be used. If 'Display Used' above is 'No', this is ignored. (Allowable range = 0 to 8)
    </tr>

    </table>
    </div>
    <p></p>

<!--Start of LED Map Settings-->
    <button type="button" class="collapsible">Sectional Map Settings</button> 
    <div class="content">
    <table>
    <tr>
        <th width="20%">Setting
        <th width="15%">Value
        <th>Setting Description
    </tr>
    
    <tr>
        <td><b>Blink LED's for High Winds</b><br>
        <td>
            <input type="radio" name="hiwindblink" id="hiwindblinkyes" value="1" {{'checked="checked"' if settings.hiwindblink=="1" else "" }}/>
            <label for="hiwindblinkyes">Yes</label>
            <input type="radio" name="hiwindblink" id="hiwindblinkno" value="0" {{'checked="checked"' if settings.hiwindblink=="0" else "" }}/>  
            <label for="hiwindblinkno">No</label>
        <td>If Yes, Blink the LED off for Airports reporting winds higher than specified in 'Set Wind Speed' above.
    </tr>

    <tr>
        <td><b>Flash LED's for Lightning</b><br>
        <td>
            <input type="radio" name="lghtnflash" id="lghtnflashyes" value="1" {{'checked="checked"' if settings.lghtnflash=="1" else "" }}/>
            <label for="lghtnflashyes">Yes</label>
            <input type="radio" name="lghtnflash" id="lghtnflashno" value="0" {{'checked="checked"' if settings.lghtnflash=="0" else "" }}/>   
            <label for="lghtnflashno">No</label>
        <td>Flash the LED for an airport reporting severe weather like TSRA (Thunderstorms).
    </tr>

    <tr>
        <td><b>Show Weather Reported as Rain</b><br>
        <td>
            <input type="radio" name="rainshow" id="rainshowyes" value="1" {{'checked="checked"' if settings.rainshow=="1" else "" }}/> 
            <label for="rainshowyes">Yes</label>
            <input type="radio" name="rainshow" id="rainshowno" value="0" {{'checked="checked"' if settings.rainshow=="0" else "" }}/>  
            <label for="rainshowno">No</label>
        <td>Change airport's LED colors to denote RAIN reported. i.e. VFR and RAIN would show GREEN then pulse BLUE.
    </tr>

    <tr>
        <td><b>Show Weather Reported as Freezing Rain</b><br>
        <td>
            <input type="radio" name="frrainshow" id="frrainshowyes" value="1" {{'checked="checked"' if settings.frrainshow=="1" else "" }}/> 
            <label for="frrainshowyes">Yes</label>
            <input type="radio" name="frrainshow" id="frrainshowno" value="0" {{'checked="checked"' if settings.frrainshow=="0" else "" }}/>   
            <label for="frrainshowno">No</label>
        <td>Change airport's LED colors to denote FREEZING RAIN reported. i.e. VFR and FREEZING RAIN would show GREEN then pulse Purple.
    </tr>

    <tr>
        <td><b>Show Weather Reported as Snow</b><br>
        <td>
            <input type="radio" name="snowshow" value="1" {{'checked="checked"' if settings.snowshow=="1" else "" }}/> 
            <label for="frrainshowyes">Yes</label>
            <input type="radio" name="snowshow" value="0" {{'checked="checked"' if settings.snowshow=="0" else "" }}/>   
            <label for="frrainshowyes">No</label>
        <td>Change airport's LED colors to denote SNOW reported. i.e. VFR and SNOW would show GREEN then pulse White.
    </tr>

    <tr>
        <td><b>Show Weather Reported as Dust, Sand, or Ash</b><br>
        <td>
            <input type="radio" name="dustsandashshow" id="dustsandashshowyes" value="1" {{'checked="checked"' if settings.dustsandashshow=="1" else "" }}/> 
            <label for="dustsandashshowyes">Yes</label>
            <input type="radio" name="dustsandashshow" id="dustsandashshowno" value="0" {{'checked="checked"' if settings.dustsandashshow=="0" else "" }}/>   
            <label for="dustsandashshowno">No</label>
        <td>Change airport's LED colors to denote DUST, SAND or ASH reported. i.e. VFR and DUST would show GREEN then pulse Brown.
    </tr>

    <tr>
        <td><b>Show Weather Reported as Fog or Haze</b><br>
        <td>
            <input type="radio" name="fogshow" id="fogshowyes" value="1" {{'checked="checked"' if settings.fogshow=="1" else "" }}/>
            <label for="fogshowyes">Yes</label>
            <input type="radio" name="fogshow" id="fogshowno" value="0" {{'checked="checked"' if settings.fogshow=="0" else "" }}/>   
            <label for="fogshowno">No</label>
        <td>Change airport's LED colors to denote FOG or haze reported. i.e. VFR and FOG would show GREEN then pulse Silver/Grey.
    </tr>

    <tr>
        <td><b>Turn On Home Airport Feature<b><br>
        <td>
            <input type="radio" name="homeport" id="homeportyes" value="1" {{'checked="checked"' if settings.homeport=="1" else "" }}/> 
            <label for="homeportyes">Yes</label>
            <input type="radio" name="homeport" id="homeportno" value="0" {{'checked="checked"' if settings.homeport=="0" else "" }}/>   
            <label for="homeportno">No</label>
        <td>The home airport can use a marker color on every other pass, or display the LED brighter than the others.
    </tr>

    <tr>
        <td><b>Home Airport Pin = </b>
        <td><input type="number" name="homeport_pin" min="0" max="500" value = {{ settings.homeport_pin }}>
        <td>Pin number of the home airport if 'Turn On Home Airport Feature' is 'Yes'. Otherwise this is ignored.
    </tr>

    <tr>
        <td><b>Home Airport Type of Color Change</b><br>
        <td>
            <input type="radio" name="homeport_display" id="homeport_displaync" value="2" {{'checked="checked"' if settings.homeport_display=="2" else "" }}/> 
            <label for="homeport_displaync">No Change</label>
            <input type="radio" name="homeport_display" id="homeport_displayvar" value="1" {{'checked="checked"' if settings.homeport_display=="1" else "" }}/>   
            <label for="homeport_displayvar">Variable Colors</label>
            <input type="radio" name="homeport_display" id="homeport_displaysd" value="0" {{'checked="checked"' if settings.homeport_display=="0" else "" }}/>   
            <label for="homeport_displaysd">Solid Color</label>
        <td>No Change won't change color of home airport. Variable Colors will cycle through colors specified below in 
        'Home Airport Changing Colors'. Solid Color will denote home airport using a single color specified below.
    </tr>

   <tr>
        <td><b>Homeport Dimming = </b>
        <td><input type="number" name="dim_value" min="0" max="255" value = {{ settings.dim_value }}>
        <td>Level of brightness to dim all other airports if home airport is being used. Play with brightness values below for best effect. (Range 0 to 255)
    </tr>

    <tr>
        <td><b>RGB or GRB LEDs Used</b><br>
        <td>
            <input type="radio" name="rgb_grb" id="rgb_grbrgb" value="1" {{'checked="checked"' if settings.rgb_grb=="1" else "" }}/>
            <label for="rgb_grbrgb">RGB</label>
            <input type="radio" name="rgb_grb" id="rgb_grbgrb" value="0" {{'checked="checked"' if settings.rgb_grb=="0" else "" }}/>   
            <label for="rgb_grbgrb">GRB</label>
        <td>Depending on LED model used colors may need to be in RGB (i.e. WS2812 strip) order or GRB (i.e. WS2811 strand).
    </tr>

    <tr>
        <td><b>Low Brightness = </b>
        <td><input type="number" name="dimmed_value" min="0" max="255" value = {{ settings.dimmed_value }}>
        <td>This sets the value of LED brightness when IC238 Ambient Light Sensor detects low ambient light. (Range 0 to 255)
    </tr>

    <tr>
        <td><b>High Brightness = </b>
        <td><input type="number" name="bright_value" min="0" max="255" value = {{ settings.bright_value }}>
        <td>This sets the value of LED brightness when light sensor detects high ambient light. This value is also used if IC238 Ambient Light Sensor is NOT used. (Range 0 to 255)
    </tr>

    <tr>
        <td><b>Iterations of Refresh Rainbow = </b>
        <td><input type="number" name="iterations" min="0" max="25" value = {{ settings.iterations }}>
        <td>Number of times that the rainbow animation will run to denote updating FAA Weather. 0 = disable rainbow display. (Range 0 to 25)
    </tr>
    </table>
    </div>
    <p></p>


<!--Start of LED Colors Settings-->
    <button type="button" class="collapsible">LED Colors Settings</button> 
    <div class="content">
    <table>
    <tr>
        <th width="20%">Setting
        <th width="10%">Value
        <th>Setting Description
    </tr>

    <tr>
        <td><b>VFR Flight Category = </b>
        <td><input type="color" style="float:left" name="color_vfr" id={{ settings.color_vfr }} size=10 value = {{ color_vfr_hex }}>
        <td>VFR is designated by GREEN (0,255,0).
    </tr>

    <tr>
        <td><b>MVFR Flight Category = </b>
        <td><input type="color" style="float:left" name="color_mvfr" id={{ settings.color_mvfr }} size=10 value = {{ color_mvfr_hex }}>
        <td>MVFR is designated by BLUE (0,0,255).
    </tr>

    <tr>
        <td><b>IFR Flight Category = </b>
        <td><input type="color" style="float:left" onload="hex2rgb(this)" name="color_ifr" id={{ settings.color_ifr }} size=10 value = {{ color_ifr_hex }}>
        <td>IFR is designated by RED (255,0,0).
    </tr>

    <tr>
        <td><b>LIFR Flight Category = </b>
        <td><input type="color" style="float:left" name="color_lifr" id={{ settings.color_lifr }} size=10 value = {{ color_lifr_hex }}>
        <td>LIFR is designated by Magenta (255,0,255).
    </tr>

    <tr>
        <td><b>No Weather Reported = </b>
        <td><input type="color" style="float:left" name="color_nowx" id={{ settings.color_nowx }} size=10 value = {{ color_nowx_hex }}>
        <td>No Weather (nowx) is typically designated by GRAY (80,80,80) or BLACK (0,0,0).
    </tr>

    <tr>
        <td><b>Black/Off = </b>
        <td><input type="color" style="float:left" name="color_black" size=10 id={{ settings.color_black }} value = {{ color_black_hex }}>
        <td>Black/Off is designated by BLACK (0,0,0).
    </tr>

    <tr>
        <td><b>Lightning = </b>
        <td><input type="color" style="float:left" name="color_lghtn" size=10 id={{ settings.color_lghtn }} value = {{ color_lghtn_hex }}>
        <td>Lightning is typically designated by YELLOW (255,255,0).
    </tr>
    
    <tr>
        <td><b>Snow1 Reported = </b>
        <td><input type="color" style="float:left" name="color_snow1" size=10 id={{ settings.color_snow1 }} value = {{ color_snow1_hex }}>
        <td>Snow1 Reported is typically designated by WHITE (255,255,255). 
    </tr>

    <tr>
        <td><b>Snow2 Reported = </b>
        <td><input type="color" style="float:left" name="color_snow2" size=10 id={{ settings.color_snow2 }} value = {{ color_snow2_hex }}>
        <td>Snow2 Reported is typically designated by SILVER (100,100,100). 2 different whites create blinking effect.
    </tr>

    <tr>
        <td><b>Rain1 Reported = </b>
        <td><input type="color" style="float:left" name="color_rain1" size=10 id={{ settings.color_rain1 }} value = {{ color_rain1_hex }}>
        <td>Rain1 Reported is typically designated by DARK BLUE (4,0,54). 
    </tr>

    <tr>
        <td><b>Rain2 Reported = </b>
        <td><input type="color" style="float:left" name="color_rain2" size=10 id={{ settings.color_rain2 }} value = {{ color_rain2_hex }}>
        <td>Rain2 Reported is typically designated by BLUE (0,0,255). 2 different blues create blinking effect.
    </tr>

    <tr>
        <td><b>Freezing Rain1 Reported = </b>
        <td><input type="color" style="float:left" name="color_frrain1" size=10 id={{ settings.color_frrain1 }} value = {{ color_frrain1_hex }}>
        <td>Freezing Rain1 Reported is typically designated by LIGHT PURPLE (199,156,219). 
    </tr>

    <tr>
        <td><b>Freezing Rain2 Reported = </b>
        <td><input type="color" style="float:left" name="color_frrain2" size=10 id={{ settings.color_frrain2 }} value = {{ color_frrain2_hex }}>
        <td>Freezing Rain2 Reported is typically designated by PURPLE (152,0,199). 2 different purples create blinking effect.
    </tr>

    <tr>
        <td><b>Dust, Sand, Ash1 Reported = </b>
        <td><input type="color" style="float:left" name="color_dustsandash1" size=10 id={{ settings.color_dustsandash1 }} value = {{ color_dustsandash1_hex }}>
        <td>Dust, Sand or Ash1 Reported is typically designated by BROWN (200,150,125). 
    </tr>

    <tr>
        <td><b>Dust, Sand, Ash2 Reported = </b>
        <td><input type="color" style="float:left" name="color_dustsandash2" size=10 id={{ settings.color_dustsandash2 }} value = {{ color_dustsandash2_hex }}>
        <td>Dust, Sand or Ash2 Reported is typically designated by DARK BROWN (100,50,0). 2 different browns create blinking effect.
    </tr>

    <tr>
        <td><b>Fog1 Reported = </b>
        <td><input type="color" style="float:left" name="color_fog1" size=10 id={{ settings.color_fog1 }} value = {{ color_fog1_hex }}>
        <td>Fog1 Reported is typically designated by SILVER (80,80,80). 
    </tr>

    <tr>
        <td><b>Fog2 Reported = </b>
        <td><input type="color" style="float:left" name="color_fog2" size=10 id={{ settings.color_fog2 }} value = {{ color_fog2_hex }}>
        <td>Fog2 Reported is typically designated by SILVER (80,80,80). Same colors create solid effect, but can have a blinking effect if desired.
    </tr>

    <tr>
        <td><b>Home Airport Marker Color = </b>
        <td><input type="color" style="float:left" name="color_homeport" size=10 id={{ settings.color_homeport }} value = {{ color_homeport_hex }}>
        <td>Home Airport Marker Color can be any color that stands out from the rest to denote the home airport.
    </tr>

    <tr>
        <td colspan="3"><b>Home Airport Changing Colors (See Help) = </b>
        <input type="text" style="float:center" name="homeport_colors" size=40 value = "{{ settings.homeport_colors }}">

    </tr>

    </table>
    </div>
    <p></p>


<!--Start of LED Map Settings-->
    <button type="button" class="collapsible">Legend Settings</button> 
    <div class="content">
    <table>

    <tr bgcolor="#ffffff">
        <td colspan=3>NOTE: The setting 'Legend' in basic settings must be set to Yes for any legend LED's to be enabled.
        Other legend items can be disabled by defining them with a No.
    </tr>

    <tr>
        <th width="20%">Setting
        <th width="15%">Value
        <th>Setting Description
    </tr>

    <tr>
        <td><b>Add High Winds to Legend</b><br>
        <td>
            <input type="radio" name="legend_hiwinds" id="legend_hiwindsyes" value="1" {{'checked="checked"' if settings.legend_hiwinds=="1" else "" }}/> 
            <label for="legend_hiwindsyes">Yes</label>
            <input type="radio" name="legend_hiwinds" id="legend_hiwindsno" value="0" {{'checked="checked"' if settings.legend_hiwinds=="0" else "" }}/>   
            <label for="legend_hiwindsno">No</label>
        <td>With this enabled, High Winds legend will be displayed. It will be added to the Flight Categories Legend.
    </tr>

    <tr>
        <td><b>Add Lightning to Legend</b><br>
        <td>
            <input type="radio" name="legend_lghtn" id="legend_lghtnyes" value="1" {{'checked="checked"' if settings.legend_lghtn=="1" else "" }}/> 
            <label for="legend_lghtnyes">Yes</label>
            <input type="radio" name="legend_lghtn" id="legend_lghtnno" value="0" {{'checked="checked"' if settings.legend_lghtn=="0" else "" }}/>   
            <label for="legend_lghtnno">No</label>
        <td>With this enabled, Lightning legend will be displayed. It will be added to the Flight Categories Legend.
    </tr>

    <tr>
        <td><b>Add Snow to Legend</b><br>
        <td>
            <input type="radio" name="legend_snow" id="legend_snowyes" value="1" {{'checked="checked"' if settings.legend_snow=="1" else "" }}/> 
            <label for="legend_snowyes">Yes</label>
            <input type="radio" name="legend_snow" id="legend_snowno" value="0" {{'checked="checked"' if settings.legend_snow=="0" else "" }}/>   
            <label for="legend_snowno">No</label>
        <td>With this enabled, Snow legend will be displayed. It will be added to the Flight Categories Legend.
    </tr>

    <tr>
        <td><b>Add Rain to Legend</b><br>
        <td>
            <input type="radio" name="legend_rain" id="legend_rainyes" value="1" {{'checked="checked"' if settings.legend_rain=="1" else "" }}/> 
            <label for="legend_rainyes">Yes</label>
            <input type="radio" name="legend_rain" id="legend_rainno" value="0" {{'checked="checked"' if settings.legend_rain=="0" else "" }}/>   
            <label for="legend_rainno">No</label>
        <td>With this enabled, Rain legend will be displayed. It will be added to the Flight Categories Legend.
    </tr>

    <tr>
        <td><b>Add Freezing Rain to Legend</b><br>
        <td>
            <input type="radio" name="legend_frrain" id="legend_frrainyes" value="1" {{'checked="checked"' if settings.legend_frrain=="1" else "" }}/> 
            <label for="legend_frrainyes">Yes</label>
            <input type="radio" name="legend_frrain" id="legend_frrainno" value="0" {{'checked="checked"' if settings.legend_frrain=="0" else "" }}/>   
            <label for="legend_frrainno">No</label>
        <td>With this enabled, Freezing Rain legend will be displayed. It will be added to the Flight Categories Legend.
    </tr>

    <tr>
        <td><b>Add Dust, Sand or Ash to Legend</b><br>
        <td>
            <input type="radio" name="legend_dustsandash" id="legend_dustsandashyes" value="1" {{'checked="checked"' if settings.legend_dustsandash=="1" else "" }}/> 
            <label for="legend_dustsandashyes">Yes</label>
            <input type="radio" name="legend_dustsandash" id="legend_dustsandashno" value="0" {{'checked="checked"' if settings.legend_dustsandash=="0" else "" }}/>   
            <label for="legend_dustsandashno">No</label>
        <td>With this enabled, Dust, Sand or Ash legend will be displayed. It will be added to the Flight Categories Legend.
    </tr>

    <tr>
        <td><b>Add Fog or Haze to Legend</b><br>
        <td>
            <input type="radio" name="legend_fog" id="legend_fogyes" value="1" {{'checked="checked"' if settings.legend_fog=="1" else "" }}/> 
            <label for="legend_fogyes">Yes</label>
            <input type="radio" name="legend_fog" id="legend_fogno" value="0" {{'checked="checked"' if settings.legend_fog=="0" else "" }}/>   
            <label for="legend_fogno">No</label>
        <td>With this enabled, Fog or Haze legend will be displayed. It will be added to the Flight Categories Legend.
    </tr>


    <tr bgcolor="#ffffff">
        <td colspan=3>NOTE: Be sure that the 'airports' file has 'LGND' at these LED positions otherwise the legend will not display properly.
    </tr>

    <tr>
        <td><b>Pin '#' for VFR Legend LED = </b>
        <td><input type="number" name="leg_pin_vfr" min="0" max="500" value = {{ settings.leg_pin_vfr }}>
        <td>Set LED pin number for VFR Legend LED.
    </tr>

    <tr>
        <td><b>Pin '#' for MVFR Legend LED = </b>
        <td><input type="number" name="leg_pin_mvfr" min="0" max="500" value = {{ settings.leg_pin_mvfr }}>
        <td>Set LED pin number for MVFR Legend LED.
    </tr>

    <tr>
        <td><b>Pin '#' for IFR Legend LED = </b>
        <td><input type="number" name="leg_pin_ifr" min="0" max="500" value = {{ settings.leg_pin_ifr }}>
        <td>Set LED pin number for IFR Legend LED.
    </tr>

    <tr>
        <td><b>Pin '#' for LIFR Legend LED = </b>
        <td><input type="number" name="leg_pin_lifr" min="0" max="500" value = {{ settings.leg_pin_lifr }}>
        <td>Set LED pin number for LIFR Legend LED.
    </tr>

    <tr>
        <td><b>Pin '#' for No Weather (nowx) Legend LED = </b>
        <td><input type="number" name="leg_pin_nowx" min="0" max="500" value = {{ settings.leg_pin_nowx }}>
        <td>Set LED pin number for No Weather Legend LED.
    </tr>

    <tr>
        <td><b>Pin '#' for Hi Winds Legend LED = </b>
        <td><input type="number" name="leg_pin_hiwinds" min="0" max="500" value = {{ settings.leg_pin_hiwinds }}>
        <td>Set LED pin number for High Winds Legend LED.
    </tr>

    <tr>
        <td><b>Pin '#' for Lightning Legend LED = </b>
        <td><input type="number" name="leg_pin_lghtn" min="0" max="500" value = {{ settings.leg_pin_lghtn }}>
        <td>Set LED pin number for Thunderstorms Legend LED.
    </tr>

    <tr>
        <td><b>Pin '#' for Snow Legend LED = </b>
        <td><input type="number" name="leg_pin_snow" min="0" max="500" value = {{ settings.leg_pin_snow }}>
        <td>Set LED pin number for Snow Legend LED.
    </tr>

    <tr>
        <td><b>Pin '#' for Rain Legend LED = </b><td>
        <input type="number" name="leg_pin_rain" min="0" max="500" value = {{ settings.leg_pin_rain }}>
        <td>Set LED pin number for Rain Legend LED.
    </tr>

    <tr>
        <td><b>Pin '#' for Freezing Rain Legend LED = </b>
        <td><input type="number" name="leg_pin_frrain" min="0" max="500" value = {{ settings.leg_pin_frrain }}>
        <td>Set LED pin number for Freezing Rain Legend LED.
    </tr>

    <tr>
        <td><b>Pin '#' for Dust, Sand or Ash Legend LED = </b>
        <td><input type="number" name="leg_pin_dustsandash" min="0" max="500" value = {{ settings.leg_pin_dustsandash }}>
        <td>Set LED pin number for Dust, Sand Ash Legend LED.
    </tr>

    <tr>
        <td><b>Pin '#' for Fog Legend LED = </b>
        <td><input type="number" name="leg_pin_fog" min="0" max="500" value = {{ settings.leg_pin_fog }}>
        <td>Set LED pin number for Fog Legend LED.
    </tr>
    
    </table>
    </div>
    <p></p>


<!--Start of Display Settings-->
    <button type="button" class="collapsible">LCD and OLED Display Settings</button> 
    <div class="content">
    <table>
    <tr>
        <th width="20%">Setting
        <th width="15%">Value
        <th>Setting Description
    </tr>

    <tr>
        <td><b>Number of Airports to Display = </b>
        <td><input type="number" name="num2display" min="0" max="50" value = {{ settings.num2display }}>
        <td>Number of highest-wind airports to display. Can be as high as airports listed in airports file. 5 to 10 is good.
    </tr>

    <tr>
        <td><b>Display Only Above kts</b><br>
        <td>
            <input type="radio" name="abovekts" id="abovektsyes" value="1" {{'checked="checked"' if settings.abovekts=="1" else "" }}/> 
            <label for="abovektsyes">Yes</label>
            <input type="radio" name="abovekts" id="abovektsno" value="0" {{'checked="checked"' if settings.abovekts=="0" else "" }}/>   
            <label for="abovektsno">No</label>
        <td>If Yes, only airports whose winds are above value stored in Max Wind Speed will be displayed.
    </tr>

    <tr>
        <td><b>LCD Display Pause = </b>
        <td><input type="number" name="lcdpause" min="0" max="3" step=".1" value = {{ settings.lcdpause }}>
        <td>Pause between character movements in scroll for LCD only. Used if 'lcddisplay = 1'. 0.3 to 1.0 normal.
    </tr>
    
    <tr>
        <td><b>OLED Display Pause = </b>
        <td><input type="number" name="oledpause" min="0" max="5" step=".1" value = {{ settings.oledpause }}>
        <td>Pause between character movements in scroll for OLED only. Used if 'oledused = 1'. 1.0 to 2.0 normal.
    </tr>

    <tr>
        <td><b>OLED Font Size = </b>
        <td><input type="number" name="fontsize" min="0" max="50" value = {{ settings.fontsize }}>
        <td>Size of font for OLED display. 24 works well with current font used.
    </tr>

    <tr>
        <td><b>OLED Pixel Offset = </b>
        <td><input type="number" name="offset" min="0" max="10" value = {{ settings.offset }}>
        <td>Pixel offset for OLED text display vertically. Leave at 3 for current font used.
    </tr>

    <tr>
        <td><b>OLED Bold Highest Speed Airport</b><br>
        <td>
            <input type="radio" name="boldhiap" id="boldhiapyes" value="1" {{'checked="checked"' if settings.boldhiap=="1" else "" }}/> 
            <label for="boldhiapyes">Yes</label>
            <input type="radio" name="boldhiap" id="boldhiapno" value="0" {{'checked="checked"' if settings.boldhiap=="0" else "" }}/>   
            <label for="boldhiapno">No</label>
        <td>If Yes, Bold the text for the airport that has the highest windspeed.
    </tr>

    <tr>
        <td><b>OLED Add Blank Screen</b><br>
        <td>
            <input type="radio" name="blankscr" id="blankscryes" value="1" {{'checked="checked"' if settings.blankscr=="1" else "" }}/> 
            <label for="blankscryes">Yes</label>
            <input type="radio" name="blankscr" id="blankscrno" value="0" {{'checked="checked"' if settings.blankscr=="0" else "" }}/>   
            <label for="blankscrno">No</label>
        <td>If Yes, Add a blank screen between the group of airports to display.
    </tr>

    <tr>
        <td><b>OLED Display Border</b><br>
        <td>
            <input type="radio" name="border" id="borderyes" value="1" {{'checked="checked"' if settings.border=="1" else "" }}/> 
            <label for="borderyes">Yes</label>
            <input type="radio" name="border" id="borderno" value="0" {{'checked="checked"' if settings.border=="0" else "" }}/>   
            <label for="borderno">No</label>
        <td>If Yes, draw a border around the text on the display. 
    </tr>

    <tr>
        <td><b>OLED Level Of Dimming</b><br>
        <td>
            <input type="radio" name="dimswitch" id="dimswitchfb" value="0" {{'checked="checked"' if settings.dimswitch=="0" else "" }}/> 
            <label for="dimswitchfb">Full Bright</label>
            <input type="radio" name="dimswitch" id="dimswitchmb" value="2" {{'checked="checked"' if settings.dimswitch=="2" else "" }}/>   
            <label for="dimswitchmb">Medium Bright</label>
            <input type="radio" name="dimswitch" id="dimswitchlb" value="1" {{'checked="checked"' if settings.dimswitch=="1" else "" }}/>   
            <label for="dimswitchlb">Low Bright</label>
        <td>Sets brightness of OLED displays if IC238 Ambient Light Sensor is NOT used. 
    </tr>

    <tr>
        <td><b>OLED Minimum Brightness = </b>
        <td><input type="number" name="dimmin" min="0" max="255" value = {{ settings.dimmin }}>
        <td>Set value 0-255 for the minimum brightness (0=darker display, but not off). When Light Sensor IS used.
    </tr>

    <tr>
        <td><b>OLED Maximum Brightness = </b>
        <td><input type="number" name="dimmax" min="0" max="255" value = {{ settings.dimmax }}>
        <td>Set value 0-255 for the maximum brightness (bright display). When Light Sensor IS used.
    </tr>

    <tr>
        <td><b>OLED Invert Display</b><br>
        <td>
            <input type="radio" name="invert" id="invertnd" value="0" {{'checked="checked"' if settings.invert=="0" else "" }}/> 
            <label for="invertnd">Normal Display</label>
            <input type="radio" name="invert" id="invertid" value="1" {{'checked="checked"' if settings.invert=="1" else "" }}/>   
            <label for="invertid">Inverted Display</label>
        <td>Supercedes Toggle Invert Display. Normal Display is white text on black background. 
    </tr>

    <tr>
        <td><b>OLED Toggle Inverted Display</b><br>
        <td>
            <input type="radio" name="toginv" id="toginvyes" value="1" {{'checked="checked"' if settings.toginv=="1" else "" }}/>
            <label for="toginvyes">Yes</label>
            <input type="radio" name="toginv" id="toginvno" value="0" {{'checked="checked"' if settings.toginv=="0" else "" }}/>  
            <label for="toginvno">No</label>
        <td>If Yes, Toggle Inverted display between groups of airports. Provides a different look if desired. 
    </tr>

    <tr>
        <td><b>OLED Scroll Display Direction</b><br>
        <td>
            <input type="radio" name="scrolldis" id="scrolldissr" value="1" {{'checked="checked"' if settings.scrolldis=="1" else "" }}/>
            <label for="scrolldissr">Scroll Right</label>
            <input type="radio" name="scrolldis" id="scrolldissl" value="0" {{'checked="checked"' if settings.scrolldis=="0" else "" }}/>   
            <label for="scrolldissl">Scroll Left</label>
        <td>Used on multiple OLEDs display only. 
    </tr>

    <tr>
        <td><b>OLED Display Welcome Message</b><br>
        <td>
            <input type="radio" name="usewelcome" id="usewelcomeyes" value="1" {{'checked="checked"' if settings.usewelcome=="1" else "" }}/> 
            <label for="usewelcomeyes">Yes</label>
            <input type="radio" name="usewelcome" id="usewelcomeno" value="0" {{'checked="checked"' if settings.usewelcome=="0" else "" }}/>   
            <label for="usewelcomeno">No</label>
        <td>If Yes, display a welcome message. Used on OLED display only. 
    </tr>

    <tr>
        <td colspan="3"><b>OLED Welcome Message</b><br>
        <input type="text" name="welcome" size="40" value = "{{ settings.welcome }}">
        
    </tr>

    <tr>
        <td><b>OLED Display Local/Zulu Time</b><br>
        <td>
            <input type="radio" name="displaytime" id="displaytimeyes" value="1" {{'checked="checked"' if settings.displaytime=="1" else "" }}/> 
            <label for="displaytimeyes">Yes</label>
            <input type="radio" name="displaytime" id="displaytimeno" value="0" {{'checked="checked"' if settings.displaytime=="0" else "" }}/>   
            <label for="displaytimeno">No</label>
        <td>If Yes, Display the local and Zulu Time between high-winds display. 
    </tr>
    
    </table>
    </div>
    <p></p>

<div class="stickydn">
<table>
    <tr>
        <td class="submitbuttons"><input type="submit" class="button" value="Save Settings">
        </td>
        </form>

        <form action="apedit" method="POST">
        <td class="submitbuttons"> <input type="submit" class="button" value="Edit Airports">
        </td>
        </form>

        <form action="reboot1" method="POST">
        <td class="submitbuttons"><input type="submit" class="button" value="Reboot Map">
        </td>
        </form>

        <form action="shutoffnow1" method="POST">
        <td class="submitbuttons"><input type="submit" class="button" value="Shutdown RPI">
        </td>
        </form>
    </tr>

    <tr>
        <form action="shutdown1" method="POST">
        <td class="submitbuttons"> <input type="submit" class="button" value="Shutoff Map">
        </td>
        </form>

        <form action="startup1" method="POST">
        <td class="submitbuttons"> <input type="submit" class="button" value="Startup Map">
        </td>
        </form>

        <td class="submitbuttons"><a href="http://www.livesectional.com/community/main-forum/" target="_blank">
        <input type="button" class="button" value="Help"></a>
        </td>

        <form action="download_cf" method="POST">
        <td class="submitbuttons"><input type="submit" class="button" value="DL config.py">
        </td>
        </form>

    </tr>
</table>
</div>

<center>
    <p style="font-size:12px">
        Copyright 2020, 2021 -Bill Bryson III,  Mark Harris - <a href="http://www.livesectional.com" target="_blank">www.livesectional.com</a>
    </p>
</center>
    
<script>
var coll = document.getElementsByClassName("collapsible");
var i;

for (i = 0; i < coll.length; i++) {
  coll[i].addEventListener("click", function() {
    this.classList.toggle("active");
    var content = this.nextElementSibling;
    if (content.style.maxHeight){
      content.style.maxHeight = null;
    } else {
      content.style.maxHeight = content.scrollHeight + "px";
    } 
  });
}
</script>

</body>
</html>
